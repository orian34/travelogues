<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2024-04-18">
<meta name="description" content="In-depth feedback and overview of the map.">

<title>Review of Ragecraft 4 - Underworld – Travelogues</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../..//posts/favicon.ico" rel="icon">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark-b53751a350365c71b6c909e95f209ed1.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-c37a40b267d3139d93432c283e34c257.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark-76a684d3da164f357bdb205775589213.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<meta property="og:title" content="Review of Ragecraft 4 - Underworld – Travelogues">
<meta property="og:description" content="In-depth feedback and overview of the map.">
<meta property="og:image" content="https://orian34.github.io/travelogues/posts/ragecraft4/thumbnail.png">
<meta property="og:site_name" content="Travelogues">
<meta property="og:image:height" content="861">
<meta property="og:image:width" content="1536">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Travelogues</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Review of Ragecraft 4 - Underworld</h1>
                  <div>
        <div class="description">
          In-depth feedback and overview of the map.
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">review</div>
                <div class="quarto-category">ctm</div>
                <div class="quarto-category">minecraft</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">April 18, 2024</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#presentation" id="toc-presentation" class="nav-link active" data-scroll-target="#presentation">Presentation</a></li>
  <li><a href="#overview" id="toc-overview" class="nav-link" data-scroll-target="#overview">Overview</a>
  <ul class="collapse">
  <li><a href="#the-descent---white" id="toc-the-descent---white" class="nav-link" data-scroll-target="#the-descent---white">The Descent - White</a></li>
  <li><a href="#the-nexus---monument" id="toc-the-nexus---monument" class="nav-link" data-scroll-target="#the-nexus---monument">The Nexus - Monument</a></li>
  <li><a href="#the-rock---orange" id="toc-the-rock---orange" class="nav-link" data-scroll-target="#the-rock---orange">The Rock - Orange</a></li>
  <li><a href="#illagers-keep---magenta" id="toc-illagers-keep---magenta" class="nav-link" data-scroll-target="#illagers-keep---magenta">Illager’s Keep - Magenta</a></li>
  <li><a href="#boombog-bastion---light-blue" id="toc-boombog-bastion---light-blue" class="nav-link" data-scroll-target="#boombog-bastion---light-blue">Boombog Bastion - Light Blue</a></li>
  <li><a href="#prismarine-empire---yellow" id="toc-prismarine-empire---yellow" class="nav-link" data-scroll-target="#prismarine-empire---yellow">Prismarine Empire - Yellow</a></li>
  <li><a href="#crystal-quarry---lime" id="toc-crystal-quarry---lime" class="nav-link" data-scroll-target="#crystal-quarry---lime">Crystal Quarry - Lime</a></li>
  <li><a href="#obsidian-throne---pink" id="toc-obsidian-throne---pink" class="nav-link" data-scroll-target="#obsidian-throne---pink">Obsidian Throne - Pink</a></li>
  <li><a href="#watchers-realm---gray" id="toc-watchers-realm---gray" class="nav-link" data-scroll-target="#watchers-realm---gray">Watcher’s Realm - Gray</a></li>
  <li><a href="#cannibal-slaughterhouse---light-gray" id="toc-cannibal-slaughterhouse---light-gray" class="nav-link" data-scroll-target="#cannibal-slaughterhouse---light-gray">Cannibal Slaughterhouse - Light Gray</a></li>
  <li><a href="#empyrian-gardens---cyan" id="toc-empyrian-gardens---cyan" class="nav-link" data-scroll-target="#empyrian-gardens---cyan">Empyrian Gardens - Cyan</a></li>
  <li><a href="#dreadfire-stronghold---purple" id="toc-dreadfire-stronghold---purple" class="nav-link" data-scroll-target="#dreadfire-stronghold---purple">Dreadfire Stronghold - Purple</a></li>
  <li><a href="#simulacrum---blue" id="toc-simulacrum---blue" class="nav-link" data-scroll-target="#simulacrum---blue">Simulacrum - Blue</a></li>
  <li><a href="#house-of-horror---brown" id="toc-house-of-horror---brown" class="nav-link" data-scroll-target="#house-of-horror---brown">House of Horror - Brown</a></li>
  <li><a href="#frigid-palace---green" id="toc-frigid-palace---green" class="nav-link" data-scroll-target="#frigid-palace---green">Frigid Palace - Green</a></li>
  <li><a href="#voidstorm-citadel---red" id="toc-voidstorm-citadel---red" class="nav-link" data-scroll-target="#voidstorm-citadel---red">Voidstorm Citadel - Red</a></li>
  <li><a href="#ruptured-realm---black" id="toc-ruptured-realm---black" class="nav-link" data-scroll-target="#ruptured-realm---black">Ruptured Realm - Black</a></li>
  </ul></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block page-columns page-full" id="quarto-document-content">





<blockquote class="blockquote">
<p>Map Author: heliceo &amp; Suso<br>
Origin: <a href="https://ctmrepository.com/index.php?action=viewMap&amp;id=588">Map Link</a><br>
Versions: MC = 1.20.1 - Map = 1.0</p>
</blockquote>
<section id="presentation" class="level1">
<h1>Presentation</h1>
<p>Ragecraft 4 - Underworld is a full length <a href="../../posts/ctm/">CTM</a> map. Ragecraft 3 has been one of the most influential maps for the beginning of the modern CTM maps, so it goes without saying that this was a <strong><em>very</em></strong> anticipated release… But not for me, I wasn’t following progress or checking teasers, I knew it would come out at some point but I wasn’t expecting or waiting on anything - it comes out when it comes out and I’ll see how it holds up then. However if you haven’t played this map yet, I ask you to do so first before reading more. BEGONE!</p>
</section>
<section id="overview" class="level1 page-columns page-full">
<h1>Overview</h1>
<section id="the-descent---white" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="the-descent---white">The Descent - White</h3>
<div class="quarto-figure quarto-figure-center page-columns page-full">
<figure class="figure page-columns page-full">
<p><img src="1.png" class="img-fluid figure-img"></p>
<figcaption class="margin-caption">The resting place of giant creatures.</figcaption>
</figure>
</div>
<p>The first area always has a difficult weight to bear, here it had a great mix of old school survival with modern mechanics. The water has great level design interactions, and the level design is just top tier to slowly introduce the player to more complex finds. The low amount of coal made me feel like a crack addict scraping the bits I could find, and I ran out at the monument. It’s not an area where I have a lot to say, but I have to highlight the beehive encounters as great one-ofs that maybe should be done more often in maps.</p>
</section>
<section id="the-nexus---monument" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="the-nexus---monument">The Nexus - Monument</h3>
<div class="quarto-figure quarto-figure-center page-columns page-full">
<figure class="figure page-columns page-full">
<p><img src="2.png" class="img-fluid figure-img"></p>
<figcaption class="margin-caption">So familiar yet different…</figcaption>
</figure>
</div>
<p>It’s a really pretty place, although things are a bit too spread out sadly. I wasn’t sure where to have the base of operation due to the teleporter room, monument, and forge being a walk away each, even with speed 2 it felt a lot of time spent on moving around. Glad to see so many dogs in the garden! The portable portal is a fantastic idea and a smart way of solving the teleporters not always covering enough space.</p>
<p>Finally, the biggest talk of the map, the cornerstone of the adventure, the rune forge is a really intricate upgrade system allowing a lot of gear freedom. Exactly the kind of custom upgrading I wished to see. Although it leaves the smithing table upgrade in the dust with the way it works, meaning you need to be careful to upgrade before building the items and some custom ones simply can’t. Overall it is fantastic and a real pleasure being able to apply abilities instead of being constrained to single items that don’t evolve.</p>
</section>
<section id="the-rock---orange" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="the-rock---orange">The Rock - Orange</h3>
<div class="quarto-figure quarto-figure-center page-columns page-full">
<figure class="figure page-columns page-full">
<p><img src="3.png" class="img-fluid figure-img"></p>
<figcaption class="margin-caption">Vine boom.</figcaption>
</figure>
</div>
<p>So much immersion! The villagers have sleeping rooms, only in this map can I roleplay Steve the Barbarian destroying blazes with axe throws. This is where it really becomes apparent that areas really don’t joke around and you’ll need to explore to find the next path and objective. The havoc axe is insaaaane! The enemies also follow that path with thematic elite abilities, it’s clear combat will stay complex as things progress.</p>
</section>
<section id="illagers-keep---magenta" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="illagers-keep---magenta">Illager’s Keep - Magenta</h3>
<div class="quarto-figure quarto-figure-center page-columns page-full">
<figure class="figure page-columns page-full">
<p><img src="4.png" class="img-fluid figure-img"></p>
<figcaption class="margin-caption">What a terrible night to have a curse.</figcaption>
</figure>
</div>
<p>The combat is becoming more intense, and it really pushed me to use my aoe weapons and abilities, the infiniflasks are really well made to push regular use while staying balanced. The area palette felt a bit dark but the level design is made in a way you don’t have to care about dark corners. New offhand combined with axe throw transformed me into the doom slayer, it’s become clear that the map will thrive in giving you pieces to assemble with deadly synergies. The first riddle was really fun and clever.</p>
<p>The potion traps felt a bit random and kinda unfair (after all, it uses function detection, nothing in the game directly) however the tell blocks were changed since to become more apparent. I believe hiding the strength buff(and other timed active buffs) from the ruby offhand was a mistake despite being intentional, because then the icon doesn’t show up in combat and it forces guesswork to know if it’s active or not. I tend to prefer hiding permanent effects and intentionally keeping the occasional bursts as visible to give a visual tell.</p>
<p>Most elites and the boss having a sort of projectile shield or magic immunity felt like a necessary choice to ensure things wouldn’t go too out of hand with so many good tools given. Speaking of the boss, it was just the right amount of incredible and a good test of my arsenal. I was allowed to go ham with my axe and the spells forced some adaptation, the antipoison flask became an important element to remove hazard and my only regret was the lack of such weakness type mechanics in the map - even if some got close to it. I liked the separation in rooms for each phase of the battle and the incremental variation it kept adding to the fight, having to deal with the statues and pits by needing survival block placing was something too rarely seen in boss fights, which is exactly the reason of a small nitpick: the second room, introducing pits in the battle, has small walkways to reach the boss but in truth you really want to fill the holes first and if it forced you more to do so it could’ve taught me faster instead of needing several deaths by falling.</p>
</section>
<section id="boombog-bastion---light-blue" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="boombog-bastion---light-blue">Boombog Bastion - Light Blue</h3>
<div class="quarto-figure quarto-figure-center page-columns page-full">
<figure class="figure page-columns page-full">
<p><img src="5.png" class="img-fluid figure-img"></p>
<figcaption class="margin-caption">Another civilization pacified.</figcaption>
</figure>
</div>
<p>It certainly begins with a DoT jungle area full of spiders and creepers, thankfully the flasks make it quite fun by acting as a solution to some of the dangers. It is quite full of valuable things to find and truly reward going on the sidepaths - I loved solving the maze and the optional boss was neat even if a bit more standard. Made a truly deadly cleaver for 39 damage on crits, you can call me the Butcher now. The many custom options give us a lot of fun pieces to brew with and it keeps expanding.</p>
<p>The castle part was more standard, taking a side path led me closer to the objective than I expected so it felt short if I didn’t count the jungle. The flying creepers were very deadly since the moment you hear them it’s already too late, NANI!? The queens were a good problem solved by using aoe.</p>
</section>
<section id="prismarine-empire---yellow" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="prismarine-empire---yellow">Prismarine Empire - Yellow</h3>
<div class="quarto-figure quarto-figure-center page-columns page-full">
<figure class="figure page-columns page-full">
<p><img src="6.png" class="img-fluid figure-img"></p>
<figcaption class="margin-caption">Breathtaking.</figcaption>
</figure>
</div>
<p>Underwater areas are only so bad as the ranged options given, and in this map we’re spoiled. Using spells, axe throws and the noxious trail meant I had a fair chance fighting the enemies in molasses. I even got to use the turtle helmet I found the previous area. Modern minecraft tech really allowed water gameplay to feel how it should’ve been all along, cool and good. The casters with unstoppable seeking missiles felt overkill combined with skeletons and trident drowneds.</p>
</section>
<section id="crystal-quarry---lime" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="crystal-quarry---lime">Crystal Quarry - Lime</h3>
<div class="quarto-figure quarto-figure-center page-columns page-full">
<figure class="figure page-columns page-full">
<p><img src="7.png" class="img-fluid figure-img"></p>
<figcaption class="margin-caption">Diggy diggy hole.</figcaption>
</figure>
</div>
<p>This area felt more like a rest area, with less intense elites and simple terrain, acting as an intersection it makes sense. On the other hand it was jam-packed with incredible runes and my gear got a lot of upgrades. The final segment was cool (badum tss) and thankfully not too long, it could have gone very wrong with a different design. Perfect to make zoom zoom players malding. I took the time to find the teleporters to each further area before clearing it.</p>
</section>
<section id="obsidian-throne---pink" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="obsidian-throne---pink">Obsidian Throne - Pink</h3>
<div class="quarto-figure quarto-figure-center page-columns page-full">
<figure class="figure page-columns page-full">
<p><img src="8.png" class="img-fluid figure-img"></p>
<figcaption class="margin-caption">This isn’t Farum Azula is it?</figcaption>
</figure>
</div>
<p>A fairly high difficulty spike, along with the ruined terrain this area is nervous and deadly. I finally found an amazing axe(Crescent Moon) that made me change from the axe throw ability to a shadow grab, and it also pushed me to completely redo my entire armor setup and offhand, big build turnaround for Frozen Grasp!</p>
<p>Full on debuff and sadism, finally getting leggings suffix runes too to benefit from the many buffs. The looks are also incredible with fun gameplay going from top to bottom. My favorite area by far, with every mob design fitting well even if the level design is more flat. The final segment was the perfect place to try out my new build and it was a slaughter, ghasts and blazes don’t stand a chance.</p>
</section>
<section id="watchers-realm---gray" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="watchers-realm---gray">Watcher’s Realm - Gray</h3>
<div class="quarto-figure quarto-figure-center page-columns page-full">
<figure class="figure page-columns page-full">
<p><img src="9.png" class="img-fluid figure-img"></p>
<figcaption class="margin-caption">The ring has been broken.</figcaption>
</figure>
</div>
<p>A really cool theme, but sadly I think the mechanic puts too much pressure on the player and it made it not pleasant by pushing me to make mistakes. Combined with a fairly creeper heavy area, many opportunities to get one shot arose. Thankfully it’s short, I’m glad to be done with it… The second part was easier than the first due to much larger land to navigate, which felt like the area might have flowed better if it was the opposite progression that had happened - from large to narrow.</p>
</section>
<section id="cannibal-slaughterhouse---light-gray" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="cannibal-slaughterhouse---light-gray">Cannibal Slaughterhouse - Light Gray</h3>
<div class="quarto-figure quarto-figure-center page-columns page-full">
<figure class="figure page-columns page-full">
<p><img src="10.png" class="img-fluid figure-img"></p>
<figcaption class="margin-caption">It’s a candy factory, I swear.</figcaption>
</figure>
</div>
<p>It begins with a tough boss fight where my newly made build was completely negated, oof. The first phase had me struggling most, then the second killed me because I wasn’t aware I would need the antipoison flask. After that, I was able to defeat the boss using my strong bow and some positioning to avoid being encircled and patiently waiting for opportunities to strike. Pretty fun overall even if the arena was a bit bland.</p>
<p>Then the new area was really cool, bloody water is always a hit for me and the villager sidequest was fun to mix in the area goals. The super axe elite using our own abilities was a cool twist and they’re great here, butcher against butcher. The riddle felt alright, but too mechanical and easy to randomly solve so not as interesting. Xin’s challenge on the other hand was pretty fun and easy enough that even a parkour hater like me didn’t struggle much.</p>
<p>The introduction of a new type of runes/resource was a bit more mixed, I felt like a good amount of the new lower level ones were just filler already weaker than previous ones. My inventory at this point is suffering, so many resources, unique items, runes, tools, it’s still manageable thanks to the shulker box and teleport tools, but that makes the long path from the tp room that much longer. I tried a thunder slam build but it felt so lackluster I went back to <a href="https://youtu.be/fJlAH9sl8uU">Frozen Grasp</a>.</p>
</section>
<section id="empyrian-gardens---cyan" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="empyrian-gardens---cyan">Empyrian Gardens - Cyan</h3>
<div class="quarto-figure quarto-figure-center page-columns page-full">
<figure class="figure page-columns page-full">
<p><img src="11.png" class="img-fluid figure-img"></p>
<figcaption class="margin-caption">Grumble grumble why is it not named Empyrean.</figcaption>
</figure>
</div>
<p>A simpler area, with the biggest particularity being the many fast nat zombees creating a hounding sense while progressing, working especially well in the hanging vines maze. The second segment was more interesting, the visibility quite impaired changed the gameplay by needing to be more careful. It made me wish for spurs though, breaking the grass added a lot of tedium this could have solved. The beekeeper elite was incredibly effective and thematic.</p>
</section>
<section id="dreadfire-stronghold---purple" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="dreadfire-stronghold---purple">Dreadfire Stronghold - Purple</h3>
<div class="quarto-figure quarto-figure-center page-columns page-full">
<figure class="figure page-columns page-full">
<p><img src="12.png" class="img-fluid figure-img"></p>
<figcaption class="margin-caption">A hot topic!</figcaption>
</figure>
</div>
<p>A cleaner area, with straight paths and rooms, and the main danger coming from the enemy hazards and verticality - it was a fun and tense time teetering on the edge. Somehow there was a lack of blaze encounters spam where it would have made the most sense. It took me a while to go clear the area because I got lost in the next 3 areas trying to clear loose paths. The diamond cleaver is insanely good and feels like the best axe variant by far, the halberds being way too slow at this point when combat always requires fast reaction to the many mobs attacking.</p>
<p>I kept shadow grasping the blademaster elites and they kept trolling me by jumping away, grr. I didn’t feel a lot of threat from fire overall, when are we banning water buckets completely from maps? The pickaxe was a blast, and I was glad the tnt room gave the most important item first, but the mobs felt too rng to really feel doable. On the other hand, why wasn’t all the TNT primed? You’re being too nice.</p>
</section>
<section id="simulacrum---blue" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="simulacrum---blue">Simulacrum - Blue</h3>
<div class="quarto-figure quarto-figure-center page-columns page-full">
<figure class="figure page-columns page-full">
<p><img src="13.png" class="img-fluid figure-img"></p>
<figcaption class="margin-caption">Wow! The land of make-believe!</figcaption>
</figure>
</div>
<p>It’s an interesting area with powerful enemies to deal with, similarly to Pink each mob here feels like a unique threat but here it’s really cursed, the hardest part of the area is the messy terrain making traversal and charting difficult. Due to that, I really had to make use of shadow grasp and some ranged backup, pure melee is a terrible choice here even if you need an answer to the zombie hounding which is more dangerous than in area 10. The riddle took a bit to understand, but once it all clicked it was a really fun solving.</p>
<p>I liked the theme and mob designs and the second part was great, it gave me flashbacks from the best Divinity’s End area. The banshees didn’t cause me that much trouble thanks to my build being strong enough to kill them before the ability triggering… most of the time. Getting blindness after each teleportation was maybe a bit much when the player is already disoriented and now you struggle seeing the threats right around you.</p>
</section>
<section id="house-of-horror---brown" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="house-of-horror---brown">House of Horror - Brown</h3>
<div class="quarto-figure quarto-figure-center page-columns page-full">
<figure class="figure page-columns page-full">
<p><img src="14.png" class="img-fluid figure-img"></p>
<figcaption class="margin-caption">Grandma, stop looking through the window!</figcaption>
</figure>
</div>
<p>Loving the spooky designs and the gameplay is clean and dangerous, what I needed after the messy terrain, the vampire elite is once again a great thematic encounter that pushes you to use aoe. Just like for Gray, I wished the darkness halls were lifted to explore more properly once the area is completed, not that I didn’t manage to clear it in the dark. I found a new axe ability that made me decide to completely switch my build once again. Going full Frenzied Flame with the void rage ability to regain all the mana I spend attacking and getting haste 2 and absorption orbs on kills along fire attacks and trail. RIP AND TEAR!</p>
<p>The final riddle was incredible and the creeper paranoia maze was everything you could want from ragecraft. When I entered the theatre stage I expected a warden to come out… I wonder why.</p>
</section>
<section id="frigid-palace---green" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="frigid-palace---green">Frigid Palace - Green</h3>
<div class="quarto-figure quarto-figure-center page-columns page-full">
<figure class="figure page-columns page-full">
<p><img src="15.png" class="img-fluid figure-img"></p>
<figcaption class="margin-caption">No aurora borealis? No time of the day? Why can’t I see it?</figcaption>
</figure>
</div>
<p>A pretty unique area, where your build directly affects how you will handle the mechanics. Knowing it was coming certainly helped me choose my new build and the fire trail ensured I could move around safely in this treacherous land of ice. The elites are getting quite bulky and the mobs don’t joke around, thankfully <a href="https://youtu.be/SKFtAWm_htg">I’m just as strong and the tools aren’t few</a>.</p>
<p>This is the area that played around the most with environmental mechanics directly tied with mob design. There was a surprisingly low amount of powdered snow use. So… many… fire… particles… Other than that I don’t have much to say about this area, it was a stronger counterpart of Purple, and an overall fun area.</p>
</section>
<section id="voidstorm-citadel---red" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="voidstorm-citadel---red">Voidstorm Citadel - Red</h3>
<div class="quarto-figure quarto-figure-center page-columns page-full">
<figure class="figure page-columns page-full">
<p><img src="16.png" class="img-fluid figure-img"></p>
<figcaption class="margin-caption">The fog made it painful to get a good picture.</figcaption>
</figure>
</div>
<p>The Gatekeeper was really fun and intense, the right amount of dangerous and also required some survival building to defeat it - I was glad my build was reworked to have fire res and I used a few of the many consumables stored. I wonder what happens if you run out of redstone during the fight if you didn’t plan for it to need so much? Maybe it would be nice to make the redstone guards drop 3 extra dusts along the block?</p>
<p>The first half of this area doesn’t joke around, with a very deadly elite to boot. Made me change my build, removing the fire side to go for full <a href="https://youtu.be/dMMZnTOU494">Exalted Rage</a>, sadly that means I didn’t get to benefit more from the torch convenience. I feel like the mushrooms should have given you an encyclopedia tell after the first, I instantly died because I didn’t understand it and ran into 3 at once. Navigating the terrain was a bit exhausting in the fog and I was glad that the second part of the area was smooth and clean pathways. Somehow it felt easier than the first half despite the more intense fighting, maybe it was because I fully unlocked the potential of my build, becoming a machine of death. The crystal guardians and wardens were a fun twist on the key mechanic for an overall solid area.</p>
</section>
<section id="ruptured-realm---black" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="ruptured-realm---black">Ruptured Realm - Black</h3>
<div class="quarto-figure quarto-figure-center page-columns page-full">
<figure class="figure page-columns page-full">
<p><img src="17.png" class="img-fluid figure-img"></p>
<figcaption class="margin-caption">Feel the rage, embrace the void. RIP AND TEAR!</figcaption>
</figure>
</div>
<p>The final area in big CTM maps tends to be a retrospective in some way, looking back to the journey before the last stop. Somehow the mobs have never been this deadly, but I feel like I transcended my mortal condition and shred through it all with ease aside the unique abilities that I can’t brush off. The elytra use felt a bit performative and not that useful, would’ve been more fun to have obstacle weaving to do in each transition. The revisited areas are really cool with the old improved items and mobs, and the permanent void hunt replaces the lack of nat spawns to create pressure in the familiar spaces.</p>
<p>And to top it all off, the big finale against the crystal is really good. The soft keys just before are an interesting way to allow a harder fight if you wish to. At that point I had a really powerful build so I didn’t struggle too much blind, but it still felt like a worthy battle. Although one criticism I could have (and slightly global to the full area as well) is that the sculk mechanic is underexploited, at that point the player is already super buffed and that makes the system feel like a sidenote which doesn’t hold a lot of relevancy, unlike green where you had to clear it out to kill some mobs. Keeping in that line for the boss battle, aside my personal hate for jump boost and where it messed with fighting because I didn’t pay attention to not jump from it, what I felt was lacking was that unlike all the other major boss fights which had a mechanic or phase that required you using survival mechanics in some way (Crypt needed to block out gaps, Metamorph needed to build walls to break gaze, Gatekeeper needed to connect redstone circuitry) this fight didn’t introduce a similar one and settled with only spawners to break. Other than that, the elite hunting, variating powers, periodic buffs and attacks, some very light platforming, all combined into an <a href="https://youtu.be/Jp0pIG3nXoo">intense and rewarding final battle</a>.</p>
</section>
</section>
<section id="conclusion" class="level1 page-columns page-full">
<h1>Conclusion</h1>
<div class="quarto-figure quarto-figure-center page-columns page-full">
<figure class="figure page-columns page-full">
<p><img src="win.png" class="img-fluid figure-img"></p>
<figcaption class="margin-caption">The great wall of relics, can you name them all?</figcaption>
</figure>
</div>
<p>Now where does this leave us? The map had a less condensed gameplay style, more like a journey with nat spawns bridging the lower amounts of spawners on the path - those nat spawns being really well balanced and interesting. Usually this would mean the gameplay would suffer from entropy syndrome but here the level design also masterfully integrated the gameplay and paths - with the monument being the only exception, where the looks were prioritized. This journey style also meant less secrets to hunt for, with most corners not being worth checking, a larger scale of exploration. A small sidenote was that elite spawners could’ve been made into preloaded normal mob spawners, instead of being a dead one after the initial spawn.</p>
<p>It pains me to say this when so much care was put into it, the death system… it didn’t feel like it brought something (aside the cool factor), but I’m aware this is a more global design conflict I have with grave systems used in modern maps. To explain what I mean, modern graves solve the fact you could drop and lose your items on death, preserving them instead, but despite that they still force you to do the tedium of dangerous death runs and recuperating your gear. And that’s where the saddest part comes in: this map solves it, in fact the resource needed to spend on that is so abundant the cost is barely a sidenote to instantly give your items back. What’s the problem then, you’d say… the problem, it’s that why do we even lose our gear to begin with, if it’s so cheap and easy to get it back? I personally would have preferred having total keepinventory, and instead it taking away a part of xp and maybe some resources, in the end making it cost more than currently, but without having to go through an entire process for the same result. And shutting down completely the need of death runs, because while the option is given to skip the process, it feels faster to just run directly there to continue progress, taking a convenience shortcut that can lead to more deaths because the choice was made to make extra steps. The player isn’t blameless in that problem, yet it’s still a design I felt I had to criticize because it was very relevant during my run. If your gear is protected, why make it tedious to get it back? Sorry for this rant, consider it more of a general critique and not just about this map.</p>
<p>The riddles were quite fun and pretty tough! It’s the kind of bonus content I really crave in maps, we don’t need only combat and the emerald rewards were incredible. I would have loved that vegetation(especially nether plants) and varied blocks had more edited loot tables to completely remove or transform into less clutter in the inventory. In direct consequence of that, the objectives look too plain in the inventory and I almost threw them away more than once. It’s a bit of a niche thing, but I tend to mention when maps add a lot of miscellaneous containers that could benefit the player from not spending the UI time searching, hence locking irrelevant ones. In some areas, the keys felt a bit too much like a mcguffin and sometimes led to an anticlimactic resolution, in Pink the keys are just existing but it ends in an epic throne room gauntlet, while in Red it’s expertly thematic but ends in “you did it”, Brown suffers from the same aspect.</p>
<p>I loved the potions that don’t hurt us and the unique spell wands, providing many tools. Standard minecraft makes it hard to want to use more than big stick bonk but here not only was it necessary it was actually fun and actively engaging. The many rune abilities really rewarded homebrewing builds and the pieces are really good at allowing synergies, this is something I’ve always wanted to see more of and had started to lean more into so it’s very pleasing to see it done so well here. There was a strange gap in progression, due to having too many helmet suffix runes and not enough leggings options until very late, it would have felt better if it was more even instead of looking at 20 helmets options knowing only 3 or 4 will really be used in the run.</p>
<p>And for the biggest meal, the forge system is amazing, the runes add a fun aspect to loot where it tends to always have potential worth and it allows you to customize gear a lot. Hooooowever (here comes the nitpicker), it’s unfortunate that upgraded items break the smithing upgrade system, and that’s an issue I also had to deal with in my own system so I know there’s no easy solution to keep pretty attributes and upgrading. I also would have loved a way to overwrite rune slots on an item, but that just might not be compatible with the system. And at last but not least, repairing and durability felt like a superfluous vanilla mechanic in this map. Resources are so abundant that most of the time repairing is costing more (if you die you lose all xp) than just remaking items, and it’s never really an issue. It doesn’t provide tension or scarcity, durability becomes only an annoying inconvenience when so much effort is put into making the custom items.</p>
<p>The fact the only criticism I really have is nitpicking and personal preferences shows how much care has been worked into this map, testing period and post-release included. It’s hard to describe from the present the impact it will have in future times, but after discussing a lot about how the map came into fruition and experiencing the final result it is clear it deserves to be called a turning point in CTM history, just as its predecessor was. I had an incredible time, and so will many others.</p>
<script src="https://utteranc.es/client.js" repo="orian34/travelogues" issue-term="title" label="Comment" theme="github-dark" crossorigin="anonymous" async="">
</script>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = true;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/orian34\.github\.io\/travelogues\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>